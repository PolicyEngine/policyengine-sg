- name: Case 1, comprehensive mid-career professional.
  absolute_error_margin: 0.1
  period: 2025
  input:
    people:
      person1:
        age: 38
        employment_income: 120_000
        is_resident: true
        is_citizen: true
        is_married: true
        number_of_children: 2
        srs_contribution: 15_300
        donation_amount: 2_000
        course_fees: 3_000
    households:
      hh:
        members:
          - person1
        property_annual_value: 20_000
        is_owner_occupied: true
  output:
    # Income: 120,000
    # CPF employee: min(120,000, 102,000) * 20% = 20,400
    cpf_employee_contribution: 20_400
    # CPF employer: 102,000 * 17% = 17,340
    cpf_employer_contribution: 17_340
    # Reliefs:
    #   Earned income: 1,000
    #   CPF: 20,400
    #   Spouse: 2,000
    #   Child: 2 * 4,000 = 8,000
    #   SRS: 15,300
    #   Course fees: 3,000
    #   Total: 49,700
    earned_income_relief: 1_000
    cpf_relief: 20_400
    spouse_relief: 2_000
    child_relief: 8_000
    srs_relief: 15_300
    course_fees_relief: 3_000
    total_personal_reliefs: 49_700
    # Donation: 2,000 * 2.5 = 5,000
    donation_deduction: 5_000
    # Chargeable: 120,000 - 49,700 - 5,000 = 65,300
    chargeable_income: 65_300
    # Tax on 65,300:
    # 20k*0% + 10k*2% + 10k*3.5% + 25.3k*7%
    # = 0 + 200 + 350 + 1,771 = 2,321
    income_tax_before_rebate: 2_321
    # PIT rebate: min(2,321 * 60%, 200) = 200
    pit_rebate: 200
    # Income tax: 2,321 - 200 = 2,121
    income_tax: 2_121
    # Property tax: AV 20,000, OO
    # 0-12,000 @ 0% + 8,000 @ 4% = 320
    property_tax: 320

- name: Case 2, fresh graduate low earner.
  absolute_error_margin: 0.1
  period: 2025
  input:
    people:
      person1:
        age: 24
        employment_income: 36_000
        is_resident: true
        is_citizen: true
    households:
      hh:
        members:
          - person1
        property_annual_value: 5_000
        is_owner_occupied: true
  output:
    # Income: 36,000
    # CPF: 36,000 * 20% = 7,200
    cpf_employee_contribution: 7_200
    # Reliefs: earned 1,000 + CPF 7,200 = 8,200
    total_personal_reliefs: 8_200
    # Chargeable: 36,000 - 8,200 = 27,800
    chargeable_income: 27_800
    # Tax: 20k*0% + 7.8k*2% = 156
    income_tax_before_rebate: 156
    # PIT rebate: min(156 * 60%, 200) = 93.6
    pit_rebate: 93.6
    # Income tax: 156 - 93.6 = 62.4
    income_tax: 62.4
    # Property tax: AV 5,000 < 12,000 => 0
    property_tax: 0

- name: Case 3, high earner with all reliefs.
  absolute_error_margin: 0.1
  period: 2025
  input:
    people:
      person1:
        age: 45
        employment_income: 500_000
        rental_income: 50_000
        is_resident: true
        is_citizen: true
        is_married: true
        number_of_children: 3
        number_of_dependant_parents: 2
        srs_contribution: 15_300
        cpf_cash_top_up: 16_000
        donation_amount: 20_000
        course_fees: 5_500
        life_insurance_premium: 10_000
  output:
    # Total income: 500,000 + 50,000 = 550,000
    total_income: 550_000
    # CPF: min(500,000, 102,000) * 20% = 20,400
    cpf_employee_contribution: 20_400
    # Reliefs sum: earned 1,000 + CPF 20,400 + spouse 2,000
    #   + child 12,000 + parent 18,000 + SRS 15,300
    #   + CPF top-up 16,000 + course 5,500 + life ins 5,000
    #   = 95,200 => capped at 80,000
    total_personal_reliefs: 80_000
    # Donation: 20,000 * 2.5 = 50,000
    donation_deduction: 50_000
    # Chargeable: 550,000 - 80,000 - 50,000 = 420,000
    chargeable_income: 420_000
